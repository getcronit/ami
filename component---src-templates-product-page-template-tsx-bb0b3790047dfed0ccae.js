"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[636],{15783:function(t,i,e){e.d(i,{E:function(){return r}});var s=e(67294);class a{static key="wishlist";constructor(){}static setWishlist(t){"undefined"!=typeof window&&localStorage.setItem(a.key,JSON.stringify(t))}static getWishlist(){return"undefined"==typeof window?[]:JSON.parse(window.localStorage.getItem(a.key)||"[]")}static addToWishlist(t){const i=a.getWishlist();i.push(t),a.setWishlist(i)}static updateQuantity(t,i){const e=a.getWishlist(),s=e.find((i=>i.id===t));s&&(s.quantity=i),a.setWishlist(e)}static removeFromWishlist(t){const i=a.getWishlist(),e=i.findIndex((i=>i.id===t));-1!==e&&(i.splice(e,1),a.setWishlist(i))}}function r(){const[t,i]=s.useState(a.getWishlist());return s.useEffect((()=>{const t=a.getWishlist();i(t)}),[]),{wishlist:t,addToWishlist:t=>{a.addToWishlist(t),i(a.getWishlist())},updateQuantity:(t,e)=>{a.updateQuantity(t,e),i(a.getWishlist())},removeFromWishlist:t=>{a.removeFromWishlist(t),i(a.getWishlist())}}}},80545:function(t,i,e){e.r(i);var s=e(64731),a=e(62880),r=e(42781),d=e(6134),o=e(15783),l=e(85893);i.default=t=>{const{shopifyProduct:i,relatedProducts:e}=t.data,{wishlist:n,addToWishlist:c,removeFromWishlist:h}=(0,o.E)(),u=n.some((t=>t.id===i.id)),p=(0,s.useAnalytics)();console.log(`isOnWishList: ${u}`);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.SEO,{pagePath:t.path,pageMeta:{title:i.title,description:i.description+` | Produkttyp: ${i.productType}`+` | Hersteller: ${i.vendor}`,image:null===(g=i.featuredMedia)||void 0===g||null===(m=g.image.gatsbyImageData.images.fallback)||void 0===m?void 0:m.src,datePublished:i.createdAt}}),(0,l.jsx)(r.A,{path:t.path,children:(0,l.jsx)(d.K2,{path:t.path,shopifyProduct:t.data.shopifyProduct,relatedProducts:t.data.relatedProducts,onWishlistAdd:t=>{if(u)p.track("wishlist-remove",{id:t}),h(t);else{const{priceFormatted:e,compareAtPriceFormatted:s}=(0,a.AV)(i),{price:r,compareAtPrice:d}=i.variants[0],o=(0,a.rZ)(i),l={id:t,handle:i.handle,title:i.title,price:r,compareAtPrice:d,priceFormatted:e,compareAtPriceFormatted:s,featuredMedia:i.featuredMedia,categoriesString:o.categoryString,tagsString:o.otherString,quantity:1};p.track("wishlist-add",{id:t,handle:i.handle,title:i.title}),c(l)}},isOnWishList:u})})]});var g,m}}}]);
//# sourceMappingURL=component---src-templates-product-page-template-tsx-bb0b3790047dfed0ccae.js.map