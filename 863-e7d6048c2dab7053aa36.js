"use strict";(self.webpackChunkvienna_hotels=self.webpackChunkvienna_hotels||[]).push([[863,164],{75682:function(e,t,n){n.d(t,{w_:function(){return s}});var i=n(67294),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=i.createContext&&i.createContext(r),a=function(){return a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)},o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function c(e){return e&&e.map((function(e,t){return i.createElement(e.tag,a({key:t},e.attr),c(e.child))}))}function s(e){return function(t){return i.createElement(d,a({attr:a({},e.attr)},t),c(e.child))}}function d(e){var t=function(t){var n,r=e.size||t.size||"1em";t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className);var l=e.attr,c=e.title,s=o(e,["attr","title"]);return i.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,s,{className:n,style:a(a({color:e.color||t.color},t.style),e.style),height:r,width:r,xmlns:"http://www.w3.org/2000/svg"}),c&&i.createElement("title",null,c),e.children)};return void 0!==l?i.createElement(l.Consumer,null,(function(e){return t(e)})):t(r)}},28063:function(e,t,n){n.r(t),n.d(t,{InteractiveImage:function(){return x},default:function(){return I}});var i=n(63366),r=n(95422),l=n(3013),a=n(47825),o=n(95751),c=n(34633),s=n(67294),d=n(14317),u=n(98408),m=n(29802),h=n(28569),p=n(36253),g=n(75937),f=n(16985),v=n(34288),y=n(88837),b=function(e){var t,n,i=e.isOpen,r=e.onClose,a=e.onUpdate,c=e.onDelete,b=e.data,O=(0,d.pm)(),x=s.useState(b),I=x[0],S=x[1];s.useEffect((function(){S(b),Z(b)}),[b]);var C=(0,v.cI)({defaultValues:I}),E=C.register,Z=C.reset,w=C.handleSubmit,k=C.formState,j=k.errors,B=k.isSubmitting,U=k.isDirty,T=(0,o.useSnekFinder)({mode:"selector",onAction:function(e){"SELECTOR_SELECT"===e.type&&a({image:e.payload.item.src,title:e.payload.item.name,description:e.payload.item.description||""})}});return(0,y.BX)(u.u_,{isOpen:i,onClose:r,size:"3xl",children:[T.finderElement,(0,y.tZ)(u.ZA,{}),(0,y.tZ)(u.hz,{children:(0,y.BX)("form",{onSubmit:w((function(e){a(e),O({title:"Success",description:"The image has been updated",status:"success",duration:5e3,isClosable:!0}),r()})),children:[(0,y.tZ)(u.xB,{children:"Update Image"}),(0,y.tZ)(u.ol,{}),(0,y.tZ)(u.fe,{children:(0,y.BX)(l.Flex,{children:[(0,y.BX)(l.Box,{flex:"1",p:"4",children:[(0,y.BX)(m.NI,{isRequired:!0,isInvalid:!!j.title,children:[(0,y.tZ)(m.lX,{htmlFor:"title",children:"Title"}),(0,y.tZ)(h.II,Object.assign({placeholder:"Title"},E("title",{required:"This is required",maxLength:{value:80,message:"Max length is 80"}}))),(0,y.tZ)(m.J1,{children:null==j||null===(t=j.title)||void 0===t?void 0:t.message})]}),(0,y.BX)(m.NI,{isRequired:!0,isInvalid:!!j.description,children:[(0,y.tZ)(m.lX,{htmlFor:"description",children:"Description (alt)"}),(0,y.tZ)(p.g,Object.assign({maxH:"15vh",placeholder:"Description"},E("description",{required:"This is required",maxLength:{value:140,message:"Max length is 140"}}))),(0,y.tZ)(m.J1,{children:null==j||null===(n=j.description)||void 0===n?void 0:n.message})]})]}),(0,y.tZ)(g.Ee,{h:"300px",w:"300px",cursor:B?"not-allowed":"pointer",objectFit:"cover",src:b.image,onClick:function(){T.toggleSelector()}})]})}),(0,y.BX)(u.mz,{children:[(0,y.tZ)(f.zx,{mr:"4",colorScheme:"red",onClick:function(){c(),O({title:"Deleted",description:"The image has been cleared from the field.",status:"success",duration:5e3,isClosable:!0}),r()},children:"Delete"}),(0,y.tZ)(f.zx,{colorScheme:"blue",mr:4,isLoading:B,isDisabled:!U,type:"submit",children:"Save"})]})]})})]})},O=["data","handleUpdateValue","image"],x=(0,a.KS)((function(e){var t=e.data,n=e.handleUpdateValue,a=e.image,s=(0,i.Z)(e,O),d=(0,r.qY)(),u=(0,o.useSnekFinder)({mode:"selector",onAction:function(e){"SELECTOR_SELECT"===e.type&&n({internalImageUrl:e.payload.item.src,title:e.payload.item.name,alt:e.payload.item.description})}}),m=t.gatsbyImage&&(0,c.e)(t.gatsbyImage),h=!1;return null!==t.internalImageUrl&&(null!=t&&t.internalImageUrl||t.gatsbyImage)&&(h=!0),(0,y.BX)(y.HY,{children:[u.finderElement,(0,y.tZ)(b,Object.assign({},d,{data:{image:t.internalImageUrl||m||"",description:(null==t?void 0:t.alt)||"",title:(null==t?void 0:t.title)||""},onUpdate:function(e){var t=e.image,i=e.description,r=e.title;n({internalImageUrl:t,alt:i,title:r})},onDelete:function(){return n({internalImageUrl:null})}})),(0,y.tZ)(l.Box,Object.assign({},s,{onClick:function(){h?d.onOpen():u.toggleSelector()},cursor:h?"pointer":"default",children:a}))]})})),I=x}}]);
//# sourceMappingURL=863-e7d6048c2dab7053aa36.js.map