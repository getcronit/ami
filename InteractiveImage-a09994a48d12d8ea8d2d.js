"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[293],{28063:function(e,t,i){i.r(t),i.d(t,{InteractiveImage:function(){return Z},default:function(){return x}});var n=i(63366),l=i(95422),r=i(3013),a=i(66498),s=i(95751),o=i(11844),c=i(67294),d=i(14317),u=i(94922),m=i(29802),g=i(28569),h=i(36253),p=i(75937),f=i(16985),v=i(22433),I=i(88837),b=function(e){var t,i,n=e.isOpen,l=e.onClose,a=e.onUpdate,o=e.onDelete,b=e.data,S=(0,d.pm)(),Z=c.useState(b),x=Z[0],D=Z[1];c.useEffect((function(){D(b),_(b)}),[b]);var B=(0,v.cI)({defaultValues:x}),U=B.register,_=B.reset,O=B.handleSubmit,X=B.formState,C=X.errors,L=X.isSubmitting,E=X.isDirty,q=(0,s.useSnekFinder)({mode:"selector",onSelect:function(e){var t=e.src,i=e.name,n=e.description;a({image:t,title:i,description:n||""})}});return(0,I.BX)(u.u_,{isOpen:n,onClose:l,size:"3xl",children:[q.finderElement,(0,I.tZ)(u.ZA,{}),(0,I.tZ)(u.hz,{children:(0,I.BX)("form",{onSubmit:O((function(e){a(e),S({title:"Success",description:"The image has been updated",status:"success",duration:5e3,isClosable:!0}),l()})),children:[(0,I.tZ)(u.xB,{children:"Update Image"}),(0,I.tZ)(u.ol,{}),(0,I.tZ)(u.fe,{children:(0,I.BX)(r.Flex,{children:[(0,I.BX)(r.Box,{flex:"1",p:"4",children:[(0,I.BX)(m.NI,{isRequired:!0,isInvalid:!!C.title,children:[(0,I.tZ)(m.lX,{htmlFor:"title",children:"Title"}),(0,I.tZ)(g.II,Object.assign({placeholder:"Title"},U("title",{required:"This is required",maxLength:{value:80,message:"Max length is 80"}}))),(0,I.tZ)(m.J1,{children:null==C||null===(t=C.title)||void 0===t?void 0:t.message})]}),(0,I.BX)(m.NI,{isRequired:!0,isInvalid:!!C.description,children:[(0,I.tZ)(m.lX,{htmlFor:"description",children:"Description (alt)"}),(0,I.tZ)(h.g,Object.assign({maxH:"15vh",placeholder:"Description"},U("description",{required:"This is required",maxLength:{value:140,message:"Max length is 140"}}))),(0,I.tZ)(m.J1,{children:null==C||null===(i=C.description)||void 0===i?void 0:i.message})]})]}),(0,I.tZ)(p.Ee,{h:"300px",w:"300px",cursor:L?"not-allowed":"pointer",objectFit:"cover",src:b.image,onClick:function(){q.toggleSelector()}})]})}),(0,I.BX)(u.mz,{children:[(0,I.tZ)(f.zx,{mr:"4",colorScheme:"red",onClick:function(){o(),S({title:"Deleted",description:"The image has been cleared from the field.",status:"success",duration:5e3,isClosable:!0}),l()},children:"Delete"}),(0,I.tZ)(f.zx,{colorScheme:"blue",mr:4,isLoading:L,isDisabled:!E,type:"submit",children:"Save"})]})]})})]})},S=["data","handleUpdateValue","image"],Z=(0,a.KS)((function(e){var t=e.data,i=e.handleUpdateValue,a=e.image,c=(0,n.Z)(e,S),d=(0,l.qY)(),u=(0,s.useSnekFinder)({mode:"selector",onSelect:function(e){var t=e.src,n=e.name,l=e.description;i({internalImageUrl:t,title:n,alt:l})}}),m=t.gatsbyImage&&(0,o.d)(t.gatsbyImage),g=!1;return null!==t.internalImageUrl&&(null!=t&&t.internalImageUrl||t.gatsbyImage)&&(g=!0),(0,I.BX)(I.HY,{children:[u.finderElement,(0,I.tZ)(b,Object.assign({},d,{data:{image:t.internalImageUrl||m||"",description:(null==t?void 0:t.alt)||"",title:(null==t?void 0:t.title)||""},onUpdate:function(e){var t=e.image,n=e.description,l=e.title;i({internalImageUrl:t,alt:n,title:l})},onDelete:function(){return i({internalImageUrl:null})}})),(0,I.tZ)(r.Box,Object.assign({},c,{onClick:function(){g?d.onOpen():u.toggleSelector()},cursor:g?"pointer":"default",children:a}))]})})),x=Z}}]);
//# sourceMappingURL=InteractiveImage-a09994a48d12d8ea8d2d.js.map