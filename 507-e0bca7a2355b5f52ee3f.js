"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[507],{69507:function(e,i,t){t.r(i),t.d(i,{SettingsContainer:function(){return b},default:function(){return z}});var n=t(38521),s=t(55736),a=t(25386),l=t(89131),r=t(98322),o=t(82261),d=t(88675),c=t(66717),h=t(91097),u=t(85680),x=t(20064),g=t(2784),j=t(60142),m=t(31461),v=t(92761),p=["title","children"],f=function(e){var i=e.title,t=e.children,n=(0,m.Z)(e,p);return(0,v.jsxs)(r.Stack,Object.assign({direction:{base:"column",md:"row"},spacing:"6",py:"4"},n,{children:[(0,v.jsx)(r.Box,{minW:"3xs",children:i&&(0,v.jsx)(r.Heading,{as:"h2",fontWeight:"semibold",fontSize:"lg",flexShrink:0,children:i})}),t]}))},S=t(73667),I=function(e){return(0,v.jsxs)(o.NI,{id:"language",children:[(0,v.jsx)(o.lX,{children:"Display Language"}),(0,v.jsxs)(S.Ph,Object.assign({maxW:"2xs"},e,{children:[(0,v.jsx)("option",{children:"English"}),(0,v.jsx)("option",{children:"Hebrew"}),(0,v.jsx)("option",{children:"Arabic"})]}))]})},k=t(6701),M=t(17929),w=function(e){var i,t,n,s,a,m,p,S,w,b,z,y,C,N,U,O,E,T,D,L,X,q,J,V,W,B=e.data,H=e.onUpdate,A=(0,l.pm)(),Q=g.useState(B),R=Q[0],F=Q[1];g.useEffect((function(){F(B),Z(B)}),[B]);var P=(0,k.cI)({defaultValues:R}),Y=P.register,Z=P.reset,_=P.handleSubmit,G=P.setValue,K=P.control,$=P.formState,ee=$.errors,ie=$.isSubmitting,te=$.isDirty,ne=$.isValid,se=g.useState(null),ae=se[0],le=se[1],re=(0,M.useSnekFinder)({mode:"selector",onAction:function(e){if("SELECTOR_SELECT"===e.type){var i=e.payload.item.src;ae&&(G(ae,i,{shouldDirty:!0}),le(null))}}}),oe=function(){le("siteMetadata.image"),re.toggleSelector()},de=function(){G("siteMetadata.image","",{shouldDirty:!0})},ce=function(){le("siteMetadata.organization.logo"),re.toggleSelector()},he=function(){G("siteMetadata.organization.logo","",{shouldDirty:!0})},ue=!te||!ne,xe="undefined"!=typeof window?window.location.href:"";return(0,v.jsxs)(v.Fragment,{children:[re.finderElement,(0,v.jsx)(r.Box,{px:{base:"4",md:"10"},py:"8",maxWidth:"3xl",mx:"auto",children:(0,v.jsxs)("form",{onSubmit:_((function(e){H(e),F(e),Z(e),A({title:"Saved",description:"Your changes have been saved.",status:"success",duration:5e3})})),children:[(0,v.jsxs)(r.Stack,{spacing:"4",divider:(0,v.jsx)(r.StackDivider,{}),children:[(0,v.jsx)(r.Heading,{size:"lg",as:"h1",paddingBottom:"4",children:"Settings"}),(0,v.jsx)(f,{title:"Site Info",children:(0,v.jsxs)(r.VStack,{width:"full",spacing:"6",children:[(0,v.jsxs)(o.NI,{isRequired:!0,isInvalid:!(null==ee||null===(i=ee.siteMetadata)||void 0===i||!i.title),children:[(0,v.jsx)(o.lX,{children:"Title"}),(0,v.jsx)(d.II,Object.assign({placeholder:"Title"},Y("siteMetadata.title",{required:"Title is required",maxLength:{value:100,message:"Title is too long"}}))),(0,v.jsx)(o.J1,{children:null===(t=ee.siteMetadata)||void 0===t||null===(n=t.title)||void 0===n?void 0:n.message})]}),(0,v.jsxs)(o.NI,{isRequired:!0,isInvalid:!(null==ee||null===(s=ee.siteMetadata)||void 0===s||!s.siteUrl),children:[(0,v.jsx)(o.lX,{children:"Url"}),(0,v.jsx)(d.II,Object.assign({placeholder:xe},Y("siteMetadata.siteUrl",{required:"Url is required",validate:{checkUrl:function(e){return e&&!/^https?:\/\//.test(e)?"Url must start with http:// or https://":void 0}}}))),(0,v.jsx)(o.J1,{children:null===(a=ee.siteMetadata)||void 0===a||null===(m=a.siteUrl)||void 0===m?void 0:m.message})]}),(0,v.jsxs)(o.NI,{isInvalid:!(null==ee||null===(p=ee.siteMetadata)||void 0===p||!p.description),children:[(0,v.jsx)(o.lX,{children:"Description"}),(0,v.jsx)(c.g,Object.assign({rows:5,placeholder:"The description will be showed in SEO results on pages without their own descriptions."},Y("siteMetadata.description"))),!(null!==(S=ee.siteMetadata)&&void 0!==S&&S.description)&&(0,v.jsx)(o.Q6,{children:"Brief description for your site."}),(0,v.jsx)(o.J1,{children:null===(w=ee.siteMetadata)||void 0===w||null===(b=w.description)||void 0===b?void 0:b.message})]}),(0,v.jsxs)(o.NI,{id:"image",children:[(0,v.jsx)(o.lX,{children:"Image"}),(0,v.jsx)(k.Qr,{control:K,name:"siteMetadata.image",render:function(e){var i=e.field.value;return(0,v.jsxs)(r.Stack,{direction:"row",spacing:"6",align:"center",width:"full",children:[(0,v.jsx)(h.qE,{size:"xl",name:"Site Logo",src:i}),(0,v.jsxs)(r.Box,{children:[(0,v.jsxs)(r.HStack,{spacing:"5",children:[(0,v.jsx)(u.zx,{leftIcon:(0,v.jsx)(j.TW3,{}),onClick:oe,children:"Change photo"}),(0,v.jsx)(u.zx,{variant:"ghost",colorScheme:"red",onClick:de,children:"Delete"})]}),(0,v.jsx)(r.Text,{fontSize:"sm",mt:"3",color:(0,x.ff)("gray.500","whiteAlpha.600"),children:"Upload a photo to represent this site."})]})]})}})]})]})}),(0,v.jsx)(f,{title:"Author",children:(0,v.jsx)(r.VStack,{width:"full",spacing:"6",children:(0,v.jsxs)(o.NI,{isInvalid:!(null==ee||null===(z=ee.siteMetadata)||void 0===z||null===(y=z.author)||void 0===y||!y.name),children:[(0,v.jsx)(o.lX,{children:"Name"}),(0,v.jsx)(d.II,Object.assign({placeholder:"Emma Doe"},Y("siteMetadata.author.name",{maxLength:{value:100,message:"Name is too long"}}))),(0,v.jsx)(o.J1,{children:null===(C=ee.siteMetadata)||void 0===C||null===(N=C.author)||void 0===N||null===(U=N.name)||void 0===U?void 0:U.message})]})})}),(0,v.jsx)(f,{title:"Organisation",children:(0,v.jsxs)(r.VStack,{width:"full",spacing:"6",children:[(0,v.jsxs)(o.NI,{isInvalid:!(null==ee||null===(O=ee.siteMetadata)||void 0===O||null===(E=O.organization)||void 0===E||!E.name),children:[(0,v.jsx)(o.lX,{children:"Name"}),(0,v.jsx)(d.II,Object.assign({placeholder:"Snek"},Y("siteMetadata.organization.name",{maxLength:{value:100,message:"Name is too long"}}))),(0,v.jsx)(o.J1,{children:null===(T=ee.siteMetadata)||void 0===T||null===(D=T.organization)||void 0===D||null===(L=D.name)||void 0===L?void 0:L.message})]}),(0,v.jsxs)(o.NI,{isInvalid:!(null==ee||null===(X=ee.siteMetadata)||void 0===X||null===(q=X.organization)||void 0===q||!q.url),children:[(0,v.jsx)(o.lX,{children:"Url"}),(0,v.jsx)(d.II,Object.assign({placeholder:"https://snek.at"},Y("siteMetadata.organization.url",{validate:{checkUrl:function(e){return e&&!/^https?:\/\//.test(e)?"Url must start with http:// or https://":void 0}}}))),(0,v.jsx)(o.J1,{children:null===(J=ee.siteMetadata)||void 0===J||null===(V=J.organization)||void 0===V||null===(W=V.url)||void 0===W?void 0:W.message})]}),(0,v.jsxs)(o.NI,{id:"image",children:[(0,v.jsx)(o.lX,{children:"Image"}),(0,v.jsx)(k.Qr,{control:K,name:"siteMetadata.organization.logo",render:function(e){var i=e.field.value;return(0,v.jsxs)(r.Stack,{direction:"row",spacing:"6",align:"center",width:"full",children:[(0,v.jsx)(h.qE,{size:"xl",name:"Organisation Logo",src:i}),(0,v.jsxs)(r.Box,{children:[(0,v.jsxs)(r.HStack,{spacing:"5",children:[(0,v.jsx)(u.zx,{leftIcon:(0,v.jsx)(j.TW3,{}),onClick:ce,children:"Change photo"}),(0,v.jsx)(u.zx,{variant:"ghost",colorScheme:"red",onClick:he,children:"Delete"})]}),(0,v.jsx)(r.Text,{fontSize:"sm",mt:"3",color:(0,x.ff)("gray.500","whiteAlpha.600"),children:"Upload a photo of your organisation."})]})]})}})]})]})}),(0,v.jsx)(f,{title:"Language",children:(0,v.jsx)(r.VStack,{width:"full",spacing:"6",children:(0,v.jsx)(I,{})})})]}),(0,v.jsx)(f,{mt:"8",children:(0,v.jsx)(r.HStack,{width:"full",children:(0,v.jsxs)(u.hE,{isDisabled:ue,children:[(0,v.jsx)(u.zx,{type:"submit",mr:"4",colorScheme:"blue",isLoading:ie,children:"Save Changes"}),(0,v.jsx)(u.zx,{variant:"outline",onClick:function(){Z(R)},children:"Cancel"})]})})})]})})]})},b=(0,n.Xt)((function(){var e=(0,n.TL)(),i=(0,a.W)();return(0,v.jsx)(w,{data:i,onUpdate:function(i){alert("update site: "+JSON.stringify(i)),i.siteMetadata&&e((0,s.n6)(i.siteMetadata))}})})),z=b}}]);
//# sourceMappingURL=507-e0bca7a2355b5f52ee3f.js.map